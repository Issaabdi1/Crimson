<!DOCTYPE html>
<meta charset="utf-8">
<title>Test Suite</title>
{% load static %}
<link rel="stylesheet" href="https://code.jquery.com/qunit/qunit-2.20.0.css">
<link href="{% static 'css/custom.css' %}" rel="stylesheet">
<body>
<div id="qunit"></div>
<div id="qunit-fixture">
    <!--Notification testing-->
    <div>
        <!--Notification popup button-->
        <a class="nav-link" href="#" data-bs-toggle="offcanvas" data-bs-target="#offcanvasRight"
           aria-controls="offcanvasRight"><span class="bi bi-bell">
          <span id="notification-alert"
                class="position-absolute top-10 start-100 translate-middle badge rounded-pill bg-danger"
                style="font-size:0.6rem;">
            99+
          </span>

    </span></a>
        <!--Dismiss all button-->
        <div class="float-end p-2" id="dismiss-notifications">
            <button type="submit" id="remove-notification" name="delete" value="delete-all" class="btn"
                    data-bs-dismiss="alert" data-bs-target=".all-notifications" aria-label="Close" style="display:none">
          <span class="bi bi-bell p-1">
            Dismiss all
          </span>
            </button>
        </div>

        <!--Notification cards-->
        <div class="card card-body mb-3 notification-card" id="closeable-card" style="width: 350px;">
            <div class="row g-0">
                <div class="col-md-9 p-2">
                    <h5 class="card-title fs-6">{{ notification.shared_file_instance.shared_by.username }} shared a file
                        with you</h5>
                    <a href="{{ notification.shared_file_instance.shared_file.file.url }}"
                       class="card-link">{{ notification.shared_file_instance.shared_file.file.name }}</a>
                </div>
                <div class="col-md-2 mr-2">
                    <p class="card-text"><small class="text-body-secondary"
                                                style="font-size:12px">{{ notification.time_of_notification }}</small>
                    </p>
                </div>
                <div class="col-md-1 ">
                    <div class="delete-button">
                        <button type="button" id="remove-notification" name="delete" value="0" class="btn btn-close"
                                data-bs-dismiss="alert" data-bs-target="#closeable-card" aria-label="Close">
                        </button>
                    </div>
                </div>
            </div>
        </div>

        <div class="card card-body mb-3 notification-card" id="closeable-card" style="width: 350px;">
            <div class="row g-0">
                <div class="col-md-9 p-2">
                    <h5 class="card-title fs-6">{{ notification.shared_file_instance.shared_by.username }} shared a file
                        with you</h5>
                    <a href="{{ notification.shared_file_instance.shared_file.file.url }}"
                       class="card-link">{{ notification.shared_file_instance.shared_file.file.name }}</a>
                </div>
                <div class="col-md-2 mr-2">
                    <p class="card-text"><small class="text-body-secondary"
                                                style="font-size:12px">{{ notification.time_of_notification }}</small>
                    </p>
                </div>
                <div class="col-md-1 ">
                    <div class="delete-button">
                        <button type="button" id="remove-notification" name="delete" value="0" class="btn btn-close"
                                data-bs-dismiss="alert" data-bs-target="#closeable-card" aria-label="Close">
                        </button>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!--Sidebar testing-->
    <div>
        <div id="sidebarToolbar">
            <!-- Sidebar Toolbar View Buttons -->
            <button id="viewThumbnails" class="toolbarButton toggled" title="View Thumbnails">
                <i class="fa-solid fa-grip-vertical"></i>
            </button>
            <button id="viewOutline" class="toolbarButton toggled" title="View Outline">
                <i class="fa-solid fa-bars-staggered"></i>
            </button>
            <button id="viewComments" class="toolbarButton toggled" title="View Comments">
                <i class="fa-regular fa-message"></i>
            </button>
            <button id="viewBookmarks" class="toolbarButton toggled" title="View Bookmarks">
                <i class="fa-regular fa-bookmark"></i>
            </button>
        </div>
        <div id="sidebarViews">
            <div id="thumbnailView">
                <div id="thumbnailsContainer" role="tablist" aria-label="Thumbnail Tabs">
                    <div class="thumbnailContainer" role="tab" data-page="1" aria-selected="true">
                        <canvas width="108" height="139" class="thumbnailCanvas"></canvas>
                        <span class="pageNumberElement">1</span></div>
                    <div class="thumbnailContainer" role="tab" data-page="2" aria-selected="false">
                        <canvas width="108" height="139" class="thumbnailCanvas"></canvas>
                        <span class="pageNumberElement">2</span></div>
                </div>
            </div>
            <div id="outlineView"></div>

            <div id="commentView">
                <p id="testComment">TEST</p>
            </div>

            <div id="bookmarksView">
                <h3>This is the bookmark view</h3>
            </div>
        </div>
    </div>

    <!--Popup Window testing-->
    <div id="popupContainer">
        <div id="closePopup">
            
        </div>
    </div>
    
    <!--Find functionality testing-->
    <div id="testArea">
        <span class="clonedFindSpans">Highlight 1</span>
        <span class="clonedFindSpans">Highlight 2</span>
        <span>Non-highlighted Text</span>
    </div>

    <!-- Mock elements for testing deleteMark function -->
    <div id="marksContainer">
        <span data-value="mark1" class="mark">Mark 1</span>
        <span data-value="mark2" class="mark">Mark 2</span>
    </div>

    <div id="textLayerContainer"></div>
    
    <!--Other testing-->
    <div>

    </div>
</div>
<script src="https://code.jquery.com/qunit/qunit-2.20.0.js"></script>
<script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
<link rel="stylesheet" href="https://code.jquery.com/qunit/qunit-2.20.0.css">
<script src="{% static 'js/process_notification_delete.js' %}"></script>
<script src="{% static 'js/set_notifications_read.js' %}"></script>
<script src="{% static 'js/test/test_notifications.js' %}"></script>
<script src="{% static 'js/viewer_sidebar.js' %}"></script>
<script src="{% static 'js/test/test_viewer_sidebar.js' %}"></script>
<script src="{% static 'js/popup_window.js' %}"></script>
<script src="{% static 'js/test/test_popup_window.js' %}"></script>
<script src="{% static 'js/viewer.js' %}"></script>
<script src="{% static 'js/test/test_pdf_search.js' %}"></script>
<script src="{% static 'js/test/test_dashboard.js' %}"></script>
<script src="{% static 'js/filelist.js' %}"></script>
<script src="{% static 'js/test/test_filelist.js' %}"></script>
<script src="{% static 'js/test/test_voice_comments_menu.js' %}"></script>
</body>
